{"version":3,"sources":["uni-app:///main.js","webpack:///E:/code/work/wxapp/pages/myteaching/myteachingPhoto.vue?a76b","webpack:///E:/code/work/wxapp/pages/myteaching/myteachingPhoto.vue?01a7","webpack:///E:/code/work/wxapp/pages/myteaching/myteachingPhoto.vue?df81","webpack:///E:/code/work/wxapp/pages/myteaching/myteachingPhoto.vue?e76a","uni-app:///pages/myteaching/myteachingPhoto.vue","webpack:///E:/code/work/wxapp/pages/myteaching/myteachingPhoto.vue?4dae"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBAAmB,8BACnB,sBACA,yD,mDACAA,EAAWC,a;;;;2DCHX,uSACIC,EADJ,iHASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,uCACZ,aAAAF,E;;;;2GCvBf,4zB;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCRvB,gfAA2vB,eAAG,G;;;;0IC6D9vB,+D,w8BAEA,CACA,YACA,YAEA,KAJA,WAKA,OACA,OACA,aACA,UACA,SACA,OACA,eACA,OACA,OACA,UACA,QACA,YACA,UACA,gBACA,cACA,OACA,iBACA,SACA,SACA,SACA,gBACA,UAGA,cA7BA,WA8BA,eACA,YACA,iCACA,0BAGA,OApCA,aAqCA,OArCA,SAqCA,GAMA,GALA,qCACA,+CAEA,wBACA,iBACA,cAEA,sBACA,mBACA,WACA,uBACA,sBACA,UACA,eAEA,qBACA,2BACA,sCACA,kCACA,0BACA,iCACA,iCACA,6CACA,iEACA,iBACA,aACA,qBAEM,KAAN,oBACA,+BAGA,SAEA,eAFA,SAEA,GACA,WACA,UACA,UACA,yCACA,YACA,OACA,gBACA,gBACA,4BACA,wBACA,iCAGA,4BAGA,QAnBA,WAmBA,wGACA,MACA,eACA,oBACA,4BAGA,oBAGA,eA7BA,WA6BA,WACA,sCACA,2BACA,aACA,2BACA,eAEA,iBACA,mBAIA,UAzCA,SAyCA,cACA,YACA,oBACA,qBACA,mBACA,2CACA,eACA,MACA,YACA,kBACA,uBACA,sBAEA,gBAKA,iBA3DA,WA2DA,WACA,4BACA,iBACA,eACA,2BACA,eACA,eACA,kBACA,aACA,oBACA,UACA,uBAEA,wDAEA,mDAEA,cACA,uBAQA,WACA,uBACA,sBACA,MAGA,SA3FA,SA2FA,GACA,6CACA,0BACA,yCAGA,SAjGA,SAiGA,cACA,yBAkCA,EACA,cACA,kGACA,wDACA,mBACA,8EAIA,cACA,iGACA,wDACA,mBACA,mFA9CA,aACA,kBACA,eAmHA,iBAxNA,WAwNA,WACA,8BACA,8GACA,kBACA,qBACA,YACA,cACA,qJAGA,aACA,YACA,oB;;;;2DCzWA,g1BAAq2C,eAAG,G","file":"pages/myteaching/myteachingPhoto.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/myteaching/myteachingPhoto.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./myteachingPhoto.vue?vue&type=template&id=0d37f95c&\"\nvar renderjs\nimport script from \"./myteachingPhoto.vue?vue&type=script&lang=js&\"\nexport * from \"./myteachingPhoto.vue?vue&type=script&lang=js&\"\nimport style0 from \"./myteachingPhoto.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/myteaching/myteachingPhoto.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./myteachingPhoto.vue?vue&type=template&id=0d37f95c&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./myteachingPhoto.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./myteachingPhoto.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"tabar\" v-if=\"from == 1\">\r\n\t\t\t<view class=\"item\" @click=\"selection(i)\" v-for=\"(item, i) of subject_list\" :key=\"i\" v-if=\"subject_list.length != 1\">\r\n\t\t\t\t<image :src=\"item.status ? item.icon1 : item.icon2\"></image>\r\n\t\t\t\t<text :class=\"{ 'c-c': item.status }\">{{ item.title }}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item item_special\" @click=\"selection(i)\" v-for=\"(item, i) of subject_list\" :key=\"i\" v-else>\r\n\t\t\t\t<image :src=\"item.status ? item.icon1 : item.icon2\"></image>\r\n\t\t\t\t<text :class=\"{ 'c-c': item.status }\">{{ item.title }}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"name\">{{ subtitle }}</view>\r\n\t\t<view class=\"list\" v-if=\"from == 1\">\r\n\t\t\t<view class=\"teachingCon\" v-if=\"textbook_list.length != 0\">\r\n\t\t\t\t<view class=\"card\" @click=\"chooseTeaching(i)\" v-for=\"(item, i) of textbook_list\" :key=\"i\">\r\n\t\t\t\t\t<image :src=\"item.icon\" mode=\"\" class=\"subject\"></image>\r\n\t\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t\t<view>{{ item.textbook_name }}</view>\r\n\t\t\t\t\t\t<view class=\"term\">{{ item.semester }}学期</view>\r\n\t\t\t\t\t\t<view class=\"version\">{{ item.version_title }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<image :src=\"item.status ? '//aictb.oss-cn-shanghai.aliyuncs.com/wx_xcx/icon/gou.png' : '//aictb.oss-cn-shanghai.aliyuncs.com/wx_xcx/icon/default_red.png'\"\r\n\t\t\t\t\t mode=\"\" class=\"detail\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"nomore\" v-if=\"textbook_list.length == 0 || !textbook_list\">当前学科没有设置教辅！</view>\r\n\t\t</view>\r\n\t\t<view class=\"teachingCon\" v-if=\"from == 2\">\r\n\t\t\t<view class=\"card\">\r\n\t\t\t\t<image :src=\"obj.icon\" mode=\"\" class=\"subject\"></image>\r\n\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t<view>{{ obj.textbook_name }}</view>\r\n\t\t\t\t\t<view class=\"term\">{{ obj.semester }}学期</view>\r\n\t\t\t\t\t<view class=\"version\">{{ obj.version_title }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"name\">页码</view>\r\n\t\t<view class=\"pickes\">\r\n\t\t\t<view>当前页码</view>\r\n\t\t\t<picker :range=\"numArr\" :value=\"index\" @change=\"select_l\">\r\n\t\t\t\t<view class=\"value\" style=\"overflow: hidden;text-overflow: ellipsis;white-space: nowrap;\">\r\n\t\t\t\t\t{{ tpage ? (numArr[index] ? numArr[index] : '第1页') : '第1页' }}\r\n\t\t\t\t\t<image src=\"https://aictb.oss-cn-shanghai.aliyuncs.com/wx_xcx/icon/right.png\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</picker>\r\n\t\t</view>\r\n\t\t<view class=\"photobox\">\r\n\t\t\t<!-- <image src=\"https://aictb.oss-cn-shanghai.aliyuncs.com/wx_xcx/bg/photo.png\" class=\"photo\" @click=\"checkimg(0)\" v-if=\"from == 1\"></image> -->\r\n\t\t\t<image src=\"https://aictb.oss-cn-shanghai.aliyuncs.com/wx_xcx/icon/allsearch.png\" class=\"photo\" @click=\"checkimg(1)\"\r\n\t\t\t v-if=\"from == 1\"></image>\r\n\t\t\t<!-- <image src=\"https://aictb.oss-cn-shanghai.aliyuncs.com/wx_xcx/bg/photo.png\" class=\"photo\" @click=\"checkimg(0)\" v-if=\"from == 2\"></image> -->\r\n\t\t\t<image src=\"https://aictb.oss-cn-shanghai.aliyuncs.com/wx_xcx/icon/allsearch.png\" class=\"photo\" @click=\"checkimg(1)\"\r\n\t\t\t v-if=\"from == 2\"></image>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { pathToBase64, base64ToPath } from '../../js_sdk/gsq-image-tools/image-tools/index.js'\r\n\timport uniPopup from '@/components/uni-popup/uni-popup.vue';\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tuniPopup\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tpage: 1,\r\n\t\t\t\tchoosePage: 1,\r\n\t\t\t\tis_more: 1,\r\n\t\t\t\ttoken: '',\r\n\t\t\t\timg: [],\r\n\t\t\t\ttextbook_id: '',\r\n\t\t\t\tpic: '',\r\n\t\t\t\tobj: {},\r\n\t\t\t\tnumArr: [],\r\n\t\t\t\tindex: 0,\r\n\t\t\t\tsubtitle: '',\r\n\t\t\t\tfrom: null,\r\n\t\t\t\tsubject_list: [],\r\n\t\t\t\tsubject_id: '',\r\n\t\t\t\ttype: 4,\r\n\t\t\t\ttextbook_list: [],\r\n\t\t\t\ttpage: '',\r\n\t\t\t\tfpage: '',\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tsubject_name: '',\r\n\t\t\t\tflag: true\r\n\t\t\t};\r\n\t\t},\r\n\t\tonReachBottom() {\r\n\t\t\tif (this.is_more) {\r\n\t\t\t\tthis.page++;\r\n\t\t\t\tconsole.log('my_textbook_list1');\r\n\t\t\t\tthis.my_textbook_list();\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {},\r\n\t\tonLoad(option) {\r\n\t\t\tif (uni.getStorageSync('userInfo').token) {\r\n\t\t\t\tthis.token = uni.getStorageSync('userInfo').token;\r\n\t\t\t}\r\n\t\t\tconsole.log('option', option);\r\n\t\t\tthis.from = option.from;\r\n\t\t\tif (this.from == 1) {\r\n\t\t\t\t//首页拍照识题\r\n\t\t\t\tthis.subject_fenlei();\r\n\t\t\t\tthis.subtitle = '教辅';\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t_this.chooseTeaching(0);\r\n\t\t\t\t}, 618);\r\n\t\t\t} else if (this.from == 2) {\r\n\t\t\t\t//我的教辅详情\r\n\t\t\t\tthis.subtitle = '当前教辅';\r\n\t\t\t\tthis.obj = JSON.parse(option.obj);\r\n\t\t\t\tthis.textbook_id = this.obj.textbook_id;\r\n\t\t\t\tthis.title = this.obj.textbook_name;\r\n\t\t\t\tthis.tpage = this.obj.tpage;\r\n\t\t\t\tthis.subject_name = option.subject_name;\r\n\t\t\t\tconsole.log('this.obj', this.obj);\r\n\t\t\t\tconsole.log('this.obj.tpage', this.obj.tpage);\r\n\t\t\t\tconsole.log('onLoad(option)', this.textbook_id, this.subject_name);\r\n\t\t\t\tif (!this.obj.tpage) {\r\n\t\t\t\t\tthis.tpage = 1;\r\n\t\t\t\t\tthis.numArr = ['第1页'];\r\n\t\t\t\t}\r\n        this.page = this.obj.tpage \r\n\t\t\t\tthis.sumPage(this.obj.tpage);\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//选中每一个教辅\r\n\t\t\tchooseTeaching(i) {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\t_this.tpage = 1;\r\n\t\t\t\t_this.index = 0;\r\n\t\t\t\t_this.textbook_list.forEach((elem, j, arr) => {\r\n\t\t\t\t\telem.status = false;\r\n\t\t\t\t\tif (i == j) {\r\n\t\t\t\t\t\t_this.tpage = elem.tpage;\r\n\t\t\t\t\t\t_this.fpage = elem.fpage;\r\n\t\t\t\t\t\t_this.textbook_id = elem.textbook_id;\r\n\t\t\t\t\t\t_this.title = elem.textbook_name;\r\n\t\t\t\t\t\t_this.textbook_list[i].status = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t_this.sumPage(_this.fpage, _this.tpage);\r\n\t\t\t},\r\n\t\t\t//页码总页数\r\n\t\t\tsumPage(ft = 1, it) {\r\n\t\t\t\tif (it) {\r\n\t\t\t\t\tthis.numArr = [];\r\n\t\t\t\t\tfor (let i = ft; i < it; i++) {\r\n\t\t\t\t\t\tthis.numArr.push('第' + i + '页');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn this.numArr;\r\n\t\t\t},\r\n\t\t\t//学科分类\r\n\t\t\tsubject_fenlei() {\r\n\t\t\t\tthis.$api.subject().then(res => {\r\n\t\t\t\t\tconsole.log('list', res.data);\r\n\t\t\t\t\tvar list = res.data;\r\n\t\t\t\t\tlist.forEach(function(elem, i, arr) {\r\n\t\t\t\t\t\telem.status = false;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.subject_list = list;\r\n\t\t\t\t\tthis.selection(0); //默认数学状态\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//切换学科\r\n\t\t\tselection(i) {\r\n\t\t\t\tthis.page = 1;\r\n\t\t\t\tthis.numArr = ['第1页'];\r\n\t\t\t\tthis.student_list = [];\r\n\t\t\t\tthis.subject_id = 19; //默认数学查询\r\n\t\t\t\tthis.subject_list.forEach((e, j, arr) => {\r\n\t\t\t\t\tconsole.log(i);\r\n\t\t\t\t\tif (i == j) {\r\n\t\t\t\t\t\te.status = true;\r\n\t\t\t\t\t\tthis.subject_id = e.id;\r\n\t\t\t\t\t\tthis.subject_name = e.title;\r\n\t\t\t\t\t\tthis.my_textbook_list();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\te.status = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//教辅列表详情\r\n\t\t\tmy_textbook_list() {\r\n\t\t\t\tthis.$api.my_textbook_list({\r\n\t\t\t\t\ttoken: this.token,\r\n\t\t\t\t\ttype: this.type,\r\n\t\t\t\t\tsubject_id: this.subject_id,\r\n\t\t\t\t\tpage: this.page,\r\n\t\t\t\t\tpage_size: 10\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\tthis.is_more = res.is_more;\r\n\t\t\t\t\t\tif (this.page == 1) {\r\n\t\t\t\t\t\t\tthis.textbook_list = res.data;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.textbook_list = [...this.textbook_list, ...res.data];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log('this.textbook_list', this.textbook_list);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (res.code == 500) {\r\n\t\t\t\t\t\t\tthis.textbook_list = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/* uni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:res.msg,\r\n\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t}) */\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t_this.chooseTeaching(0);\r\n\t\t\t\t}, 1000);\r\n\t\t\t},\r\n\t\t\t//挑选页码\r\n\t\t\tselect_l(e) {\r\n\t\t\t\tconsole.log('e.detail.value', e.detail.value);\r\n\t\t\t\tthis.index = e.detail.value;\r\n\t\t\t\tthis.choosePage = this.numArr[this.index];\r\n\t\t\t},\r\n\t\t\t//上传图片\r\n\t\t\tcheckimg(num) {\r\n\t\t\t\tif (this.textbook_id == '') {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请先选择相应的教辅',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 1, //默认9\r\n\t\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\t\t// sourceType: ['album'], //从相册选择\r\n\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\tconsole.log(JSON.stringify(res.tempFilePaths));\r\n\t\t\t\t\t\tpathToBase64(res.tempFilePaths[0])\r\n\t\t\t\t\t\t  .then(base64 => {\r\n\t\t\t\t\t\t\tconsole.log(base64)\r\n\t\t\t\t\t\t\t\t_this.pic = base64;\r\n\t\t\t\t\t\t\t\t_this.search_exercises();\r\n\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t  .catch(error => {\r\n\t\t\t\t\t\t\tconsole.error(error)\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '上传图片失败',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t  })\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t// #endif\r\n\t\t\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t// this.update=false\r\n\t\t\t\tif (num) {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/myteaching/customPhotos?textbook_id=' + this.textbook_id + '&choosePage=' + this.choosePage +\r\n\t\t\t\t\t\t\t'&title=' + this.title + '&subject_name=' + this.subject_name,\r\n\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\tconsole.log('跳转自定义拍照页面', this.textbook_id, this.choosePage, this.title, this.subject_name);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/myteaching/customPhoto?textbook_id=' + this.textbook_id + '&choosePage=' + this.choosePage +\r\n\t\t\t\t\t\t\t'&title=' + this.title + '&subject_name=' + this.subject_name,\r\n\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\tconsole.log('跳转自定义拍照页面', this.textbook_id, this.choosePage, this.title, this.subject_name);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t\t// let _this = this;\r\n\t\t\t\t// uni.chooseImage({\r\n\t\t\t\t// \tcount: 1, //默认9\r\n\t\t\t\t// \tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\t// \tsourceType: ['camera'], //从相册选择\r\n\t\t\t\t// \tsuccess: res => {\r\n\t\t\t\t// \t\tconsole.log(res.tempFilePaths);\r\n\t\t\t\t// \t\t_this.img = res.tempFilePaths[0];\r\n\t\t\t\t// \t\tlet url = _this.$api.url + 'main/upload_pic';\r\n\t\t\t\t// \t\tuni.uploadFile({\r\n\t\t\t\t// \t\t\turl: url,\r\n\t\t\t\t// \t\t\tfilePath: _this.img,\r\n\t\t\t\t// \t\t\tname: 'file',\r\n\t\t\t\t// \t\t\tformData: {\r\n\t\t\t\t// \t\t\t\ttoken: _this.token,\r\n\t\t\t\t// \t\t\t\tpath: 'search'\r\n\t\t\t\t// \t\t\t},\r\n\t\t\t\t// \t\t\tsuccess: res => {\r\n\t\t\t\t// \t\t\t\t_this.pic = res.data;\r\n\t\t\t\t// \t\t\t\tconsole.log('返回', res.data);\r\n\t\t\t\t// \t\t\t\tif (this.from == 2) {\r\n\t\t\t\t// \t\t\t\t\tthis.title = this.obj.textbook_name;\r\n\t\t\t\t// \t\t\t\t}\r\n\t\t\t\t// \t\t\t\t// _this.search_exercises()\r\n\t\t\t\t// \t\t\t\tuni.navigateTo({\r\n\t\t\t\t// \t\t\t\t\turl:\r\n\t\t\t\t// \t\t\t\t\t\t'/pages/myteaching/myteachingPhoto_result?pic=' +\r\n\t\t\t\t// \t\t\t\t\t\t_this.pic +\r\n\t\t\t\t// \t\t\t\t\t\t'&textbook_id=' +\r\n\t\t\t\t// \t\t\t\t\t\t_this.textbook_id +\r\n\t\t\t\t// \t\t\t\t\t\t'&choosePage=' +\r\n\t\t\t\t// \t\t\t\t\t\t_this.choosePage +\r\n\t\t\t\t// \t\t\t\t\t\t'&title=' +\r\n\t\t\t\t// \t\t\t\t\t\t_this.title +\r\n\t\t\t\t// \t\t\t\t\t\t'&subject_name=' +\r\n\t\t\t\t// \t\t\t\t\t\t_this.subject_name\r\n\t\t\t\t// \t\t\t\t});\r\n\t\t\t\t// \t\t\t\t/* if(_this.from==1){\r\n\t\t\t\t// \t\t\t\t\t\t_this.textbook_id=''\r\n\t\t\t\t// \t\t\t\t\t\t_this.tpage=1\r\n\t\t\t\t// \t\t\t\t\t\t_this.numArr=['第1页']\r\n\t\t\t\t// \t\t\t\t\t}\r\n\t\t\t\t// \t\t\t\t\t_this.index=0 */\r\n\t\t\t\t// \t\t\t},\r\n\t\t\t\t// \t\t\terror: function(e) {\r\n\t\t\t\t// \t\t\t\t/* if(_this.from==1){\r\n\t\t\t\t// \t\t\t\t\t\t_this.textbook_id=''\r\n\t\t\t\t// \t\t\t\t\t\t_this.tpage=1\r\n\t\t\t\t// \t\t\t\t\t\t_this.numArr=['第1页']\r\n\t\t\t\t// \t\t\t\t\t}\r\n\t\t\t\t// \t\t\t\t\t_this.index=0 */\r\n\t\t\t\t// \t\t\t}\r\n\t\t\t\t// \t\t});\r\n\t\t\t\t// \t},\r\n\t\t\t\t// \tfail: e => {\r\n\t\t\t\t// \t\tconsole.log(e);\r\n\t\t\t\t// \t\t/* if(_this.from==1){\r\n\t\t\t\t// \t\t\t\t_this.textbook_id=''\r\n\t\t\t\t// \t\t\t\t_this.tpage=1\r\n\t\t\t\t// \t\t\t\t_this.numArr=['第1页']\r\n\t\t\t\t// \t\t\t}\r\n\t\t\t\t// \t\t\t_this.index=0 */\r\n\t\t\t\t// \t}\r\n\t\t\t\t// });\r\n\t\t\t},\r\n\t\t\t//获取题目数据\r\n\t\t\tsearch_exercises(){\r\n\t\t\t\t\tconsole.log(this.textbook_id)\r\n\t\t\t\t\tthis.$api.search_exercises({textbook_id:this.textbook_id,page:this.choosePage,pic:this.pic,token:this.token})\r\n\t\t\t\t\t.then(res=>{\r\n\t\t\t\t\t\tconsole.log('res',res)\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\turl: '/pages/myPaper/seePapers?status=photo&listData=' + encodeURIComponent(JSON.stringify(res.data)) + '&title=' + this.title + '&subject_name=' + this.subject_name\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\tpage {\r\n\t\twidth: 100vw;\r\n\t\tfont-family: PingFang SC;\r\n\t\tbackground: #eee;\r\n\t}\r\n\r\n\t.name {\r\n\t\tfont-size: 30rpx;\r\n\t\tfont-family: PingFang SC;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333333;\r\n\t\tmargin: 24rpx;\r\n\t}\r\n\r\n\t.teachingCon {\r\n\t\tborder: 1rpx solid #e7e7e7;\r\n\t\tborder-radius: 20rpx;\r\n\t\tmargin: 0 24rpx;\r\n\t\tbackground: #fff;\r\n\r\n\t\t.card:nth-of-type(1) {\r\n\t\t\tborder-radius: 20rpx 20rpx 0 0;\r\n\t\t}\r\n\r\n\t\t.card:nth-last-of-type(1) {\r\n\t\t\tborder-radius: 0 0 20rpx 20rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.listAttr {\r\n\t\tmargin: 0 25rpx;\r\n\r\n\t\t.card {\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t\tborder: 1rpx solid #e7e7e7;\r\n\t\t}\r\n\t}\r\n\r\n\t.card {\r\n\t\theight: 190rpx;\r\n\t\tpadding: 30rpx 0;\r\n\t\tmargin: 0 30rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: row nowrap;\r\n\t\tjustify-content: flex-start;\r\n\t\talign-items: center;\r\n\t\tborder-bottom: 1px solid #f5f5f5;\r\n\r\n\t\t&:last-child {\r\n\t\t\tborder-bottom: none;\r\n\t\t}\r\n\r\n\t\timage.subject {\r\n\t\t\twidth: 110rpx;\r\n\t\t\theight: 100%;\r\n\t\t\tmargin: 0 30rpx 0 0;\r\n\t\t\tvertical-align: middle;\r\n\t\t}\r\n\r\n\t\t.title {\r\n\t\t\tfont-size: 0;\r\n\r\n\t\t\tview {\r\n\t\t\t\tcolor: #9a9a9a;\r\n\t\t\t\tfont-size: 20rpx;\r\n\t\t\t}\r\n\r\n\t\t\tview:nth-of-type(1) {\r\n\t\t\t\tcolor: #666666;\r\n\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\twidth: 430rpx;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t}\r\n\r\n\t\t\t.term {\r\n\t\t\t\tmargin: 2.5% 0;\r\n\t\t\t}\r\n\r\n\t\t\t.version {\r\n\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\tcolor: #e50304;\r\n\t\t\t\tborder: 1rpx solid #e50304;\r\n\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tpadding: 2rpx 15rpx;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\timage.detail {\r\n\t\t\twidth: 35rpx;\r\n\t\t\theight: 35rpx;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 50%;\r\n\t\t\tright: 0;\r\n\t\t\ttransform: translateY(-50%);\r\n\t\t}\r\n\t}\r\n\r\n\t.nomore {\r\n\t\tmargin: 25rpx 30rpx;\r\n\t\tbackground: #fff;\r\n\t\tborder: 1rpx solid #e7e7e7;\r\n\t\theight: 190rpx;\r\n\t\tline-height: 190rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t\ttext-align: center;\r\n\t\tcolor: #999;\r\n\t\tfont-size: 24rpx;\r\n\t}\r\n\r\n\t.pickes {\r\n\t\theight: 86rpx;\r\n\t\tmargin: 0 24rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 0 30rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tbackground: #fff;\r\n\t\tborder-radius: 20rpx;\r\n\t\tborder: 1rpx solid #e7e7e7;\r\n\r\n\t\t.value {\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t\twidth: 200rpx;\r\n\t\t\theight: 100rpx;\r\n\t\t\tline-height: 100rpx;\r\n\t\t\tposition: relative;\r\n\t\t\tcolor: #808080;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tfont-weight: 500;\r\n\t\t\ttext-align: center;\r\n\r\n\t\t\timage {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 50%;\r\n\t\t\t\tright: 10rpx;\r\n\t\t\t\ttransform: translateY(-50%);\r\n\t\t\t\twidth: 12rpx;\r\n\t\t\t\theight: 22rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.photobox {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\r\n\t\t.photo {\r\n\t\t\twidth: 232rpx;\r\n\t\t\theight: 232rpx;\r\n\t\t\tmargin: 20rpx 0;\r\n\t\t}\r\n\t}\r\n\r\n\t.tabar {\r\n\t\theight: 142rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tborder-bottom: 1rpx solid #e7e7e7;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.c-c {\r\n\t\tcolor: #e50304;\r\n\t}\r\n</style>\r\n","import mod from \"-!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./myteachingPhoto.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./myteachingPhoto.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}