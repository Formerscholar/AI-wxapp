(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/knowledgeBase/knowledgeBase"],{"0129":function(e,t,i){},"604f":function(e,t,i){"use strict";(function(e){function n(e){return c(e)||r(e)||o(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function c(e){if(Array.isArray(e))return a(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(){Promise.all([i.e("common/vendor"),i.e("components/u-parse/u-parse")]).then(function(){return resolve(i("0a01"))}.bind(null,i)).catch(i.oe)},u=function(){Promise.all([i.e("common/vendor"),i.e("components/uni-popup/uni-popup")]).then(function(){return resolve(i("f02b"))}.bind(null,i)).catch(i.oe)},_={components:{uParse:l,uniPopup:u},data:function(){return{banben:[],know_point_list:[{title:"知识点",id:0}],num_b:0,num_z:0,num_g:0,num_s:0,num_t:0,num_l:0,leixing:!1,level_list:[{title:"难度",id:0}],subject_list:[{title:"学科",id:0}],version_list:[],question_type:[{title:"题型",id:0}],subject_id:19,question_id:0,level_id:0,token:"",update:!0,page:1,is_more:1,same_type:[],type:4,exercises_list:[],grade:[],page_change:1,size_change:2,exercises_id:"",is_vip:""}},onReachBottom:function(){console.log(this.is_more),this.is_more&&(this.page++,1!=this.page&&this.exercise_selection())},onLoad:function(){e.getStorageSync("token")&&(this.token=e.getStorageSync("token")),this.subject_fenlei(),this.get_level()},onShow:function(){this.type=e.getStorageSync("type"),this.page_change=1,e.getStorageSync("is_vip")&&(this.is_vip=e.getStorageSync("is_vip"))},methods:{changeStyle:function(e){return e=e.replace(new RegExp("<p","gi"),'<p style="color: #000;position:relative"'),e=e.replace(new RegExp("<img","gi"),'<img style="max-width:95%;vertical-align: middle;width:auto;"'),e},changeData:function(){this.page_change++,this.open(this.exercises_id,0)},jiexi:function(t){e.navigateTo({url:"/pages/knowledgeBase/watchExplane?id="+t+"&source=4"})},get_grade:function(){var e=this;this.$api.get_grade({token:this.token}).then((function(t){console.log(t),e.grade=t.data.grade_list}))},rn:function(e){return e.length>4?e.splice(0,3)+"...":e},subject_fenlei:function(){var e=this;this.$api.subject({token:this.token}).then((function(t){var i=t.data;i.forEach((function(e,t,i){e.status=!1})),e.subject_list=i,e.exercise_type(),e.get_konw(),e.subject_id=i[0].id,console.log(e.subject_list)}))},version:function(){var t=this;this.$api.version().then((function(i){console.log(i),200!=i.code&&e.showToast({title:i.msg,icon:"none",duration:3e3}),t.version_list=[{title:"版本",id:0}].concat(n(i.data.version_list)),t.exercise_selection()}))},get_konw:function(){var t=this;if(1==this.subject_id)return!1;if(3==this.type)var i=this.$api.teacher_know_point({token:this.token});else i=this.$api.know_point({subject_id:this.subject_id,token:this.token});i.then((function(i){console.log(i),200!=i.code?(t.know_point_list=[],t.exercises_list=[],e.showToast({title:i.msg,icon:"none",duration:3e3})):(t.know_point_list=[{title:"知识点",id:0}].concat(n(i.data.know_point_list)),console.log("this.know_point_list3433",t.know_point_list)),t.exercise_selection()}))},get_level:function(){var e=this;this.$api.level().then((function(t){console.log(t),e.level_list=[{title:"难度",id:0}].concat(n(t.data))}))},exercise_type:function(){var e=this;this.$api.exercise_type({subject_id:this.subject_id}).then((function(t){console.log("题型列表1",t),e.question_type=[{title:"题型",id:0}].concat(n(t.data))}))},exercise_selection:function(){var t,i=this;if(console.log("123",this.know_point_list),console.log("this.know_point_list[this.num_z]",null===(t=this.know_point_list[this.num_z])||void 0===t?void 0:t.id),3==this.type)var s,o,r={token:this.token,type:this.question_id,level:this.level_id,grade_id:null===(s=this.grade[this.num_g])||void 0===s?void 0:s.grade_id,know_point:null===(o=this.know_point_list[this.num_z])||void 0===o?void 0:o.id,page:this.page},c=this.$api.teacher_textbook_exercises(r);else{var a,l,u={token:this.token,subject_id:this.subject_id,type:this.question_id,level:this.level_id,grade_id:null===(a=this.grade[this.num_g])||void 0===a?void 0:a.grade_id,know_point:null===(l=this.know_point_list[this.num_z])||void 0===l?void 0:l.id,page:this.page};c=this.$api.textbook_exercises(u)}c.then((function(t){i.is_more=t.is_more,200!=t.code?(i.exercises_list=[],e.showToast({title:t.msg,icon:"none",duration:3e3})):1==i.page?(i.exercises_list=t.data.exercises_list,console.log("000",i.exercises_list)):(i.exercises_list=[].concat(n(i.exercises_list),n(t.data.exercises_list)),console.log("789",i.exercises_list))}))},join_error:function(e,t){var i=this;if(3==this.type)var n=this.$api.teacher_join_error({token:this.token,exercises_id:t,is_vip:1});else n=this.$api.join_error({token:this.token,exercises_id:t,is_vip:1,source:4});n.then((function(n){if(200==n.code&&(i.exercises_list[e].is_error?i.exercises_list[e].is_error=0:i.exercises_list[e].is_error=1,4==i.type)){if("取消成功！"==n.msg)return!0;"加入成功"==n.msg&&i.open(t,1)}i.update=!1,i.update=!0}))},join_error2:function(t,i){var n=this;if(3==this.type)var s=this.$api.teacher_join_error({token:this.token,exercises_id:i});else s=this.$api.join_error({token:this.token,exercises_id:i,source:5,is_vip:1});s.then((function(i){200==i.code?n.same_type[t].is_error?n.same_type[t].is_error=0:n.same_type[t].is_error=1:e.showToast({title:i.msg,icon:"none"}),n.update=!1,n.update=!0}))},select_s:function(e){this.num_b=0,this.num_z=0,console.log("e",e),this.num_s=void 0==e?0:e.detail.value,this.is_more=1,this.page=1,this.subject_id=this.subject_list[this.num_s].id,this.get_konw(),this.exercise_type()},select_g:function(e){this.is_more=1,this.page=1,console.log(e),this.num_g=e.detail.value,this.exercise_selection()},select_z:function(e){this.is_more=1,this.page=1,console.log(e),this.num_z=e.detail.value,this.exercise_selection()},select_ty:function(e){this.is_more=1,this.page=1,this.num_t=e.detail.value,this.question_id=this.question_type[e.detail.value].id,this.exercise_selection()},select_l:function(e){this.is_more=1,this.page=1,this.num_l=e.detail.value,this.level_id=this.level_list[e.detail.value].id,this.exercise_selection()},toStr:function(e){return e.length>5?e.splice(0,5):e},open:function(t,i){var n=this;this.exercises_id=t;var s,o={token:this.token,type:this.question_id,subject_id:this.subject_id,exercises_id:t,page:this.page_change,size:this.size_change};s=3==this.type?this.$api.teacher_same_type(o):this.$api.same_type(o),s.then((function(t){console.log(t),200==t.code?(n.same_type=t.data.exercises_list,n.$refs.popup.open()):e.showToast({title:t.msg,icon:"none"})}))},hiddenmodal:function(){this.$refs.popup.close()}}};t.default=_}).call(this,i("543d")["default"])},7150:function(e,t,i){"use strict";i.r(t);var n=i("604f"),s=i.n(n);for(var o in n)"default"!==o&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=s.a},9735:function(e,t,i){"use strict";var n=i("0129"),s=i.n(n);s.a},a93c:function(e,t,i){"use strict";i.r(t);var n=i("c38c"),s=i("7150");for(var o in s)"default"!==o&&function(e){i.d(t,e,(function(){return s[e]}))}(o);i("9735");var r,c=i("f0c5"),a=Object(c["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);t["default"]=a.exports},c38c:function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return n}));var n={uniPopup:function(){return Promise.all([i.e("common/vendor"),i.e("components/uni-popup/uni-popup")]).then(i.bind(null,"f02b"))}},s=function(){var e=this,t=e.$createElement,i=(e._self._c,e.__map(e.exercises_list,(function(t,i){var n=e.__get_orig(t),s=e.changeStyle(t.content);return{$orig:n,m0:s}}))),n=e.__map(e.same_type,(function(t,i){var n=e.__get_orig(t),s=e.changeStyle(t.content);return{$orig:n,m1:s}}));e.$mp.data=Object.assign({},{$root:{l0:i,l1:n}})},o=[]},ffde:function(e,t,i){"use strict";(function(e){i("f6c3"),i("921b");n(i("66fd"));var t=n(i("a93c"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("543d")["createPage"])}},[["ffde","common/runtime","common/vendor"]]]);