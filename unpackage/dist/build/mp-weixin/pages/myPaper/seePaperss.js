(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/myPaper/seePaperss"],{"041a":function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return s}));var s={uniPopup:function(){return Promise.all([i.e("common/vendor"),i.e("components/uni-popup/uni-popup")]).then(i.bind(null,"f02b"))}},o=function(){var e=this,t=e.$createElement,i=(e._self._c,e.__map(e.list,(function(t,i){var s=e.__get_orig(t),o=0!=e.list.length?e.changeStyle(t.content):null;return{$orig:s,m0:o}}))),s=e.__map(e.same_type,(function(t,i){var s=e.__get_orig(t),o=0!=e.same_type.length?e.changeStyle(t.content):null;return{$orig:s,m1:o}}));e.$mp.data=Object.assign({},{$root:{l0:i,l1:s}})},n=[]},"2e25":function(e,t,i){"use strict";(function(e){function s(e){return a(e)||r(e)||n(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"===typeof e)return c(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(e,t):void 0}}function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function a(e){if(Array.isArray(e))return c(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=e[i];return s}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(){Promise.all([i.e("common/vendor"),i.e("components/uni-popup/uni-popup")]).then(function(){return resolve(i("f02b"))}.bind(null,i)).catch(i.oe)},h={components:{uniPopup:u},data:function(){return{token:"",based_id:"",list:[],is_more:1,page:1,update:!0,same_type:[],type:4,subject:"",title:"",subject_name:"",status:"",page_change:1,size_change:5,know_point:"",subject_id:"",exercises_id:"",is:"",is_vip:""}},onReachBottom:function(){this.is_more&&1==this.st?(this.page++,this.get_errorbook_exercises()):this.is_more&&1!=this.st&&"photo"!=this.status&&(this.page++,this.get_list())},onshow:function(){this.page_change=1},onLoad:function(t){this.is_vip=e.getStorageSync("is_vip"),console.log("options",t),this.type=e.getStorageSync("type"),this.st=t.st,this.subject=t.subject,this.title=t.title,this.subject_name=t.subject_name,this.status=t.status,this.is=t.is,t.based_id&&(this.based_id=t.based_id),e.getStorageSync("token")&&(this.token=e.getStorageSync("token")),1==t.st?(this.get_errorbook_exercises(),"is_student"==this.is&&this.changeTitle("错题本内容")):"photo"==this.status?(this.changeTitle("教辅内容"),this.list=JSON.parse(decodeURIComponent(t.listData)),Array.isArray(this.list)?this.list=this.list:this.list=[],console.log("this.list",this.list)):this.get_list()},methods:{deleteExercises:function(t){var i=this;this.$api.delete_exercises({errorbook_id:this.based_id,exercises_ids:t}).then((function(t){e.showToast({title:t.msg,icon:"none"}),setTimeout((function(){i.get_errorbook_exercises()}),1500)}))},changeStyle:function(e){return e=e.replace(new RegExp("<p","gi"),'<p style="color: #000;position:relative"'),e=e.replace(new RegExp("<img","gi"),'<img style="max-width:95%;vertical-align: middle;width:auto;"'),e},changeTitle:function(t){e.setNavigationBarTitle({title:t})},changeData:function(){this.page_change++,this.open()},jiexi:function(t,i){e.navigateTo({url:"/pages/knowledgeBase/watchExplane?id="+t})},get_errorbook_exercises:function(){var t=this;if(3==e.getStorageSync("type"))var i=this.$api.get_teacher_errorbook_exercises({token:this.token,page:this.page,errorbook_id:this.based_id});else i=this.$api.get_errorbook_exercises({token:this.token,page:this.page,errorbook_id:this.based_id});i.then((function(e){t.is_more=e.is_more,console.log(e),1==t.page?t.list=e.data.exercises_list:t.list=[].concat(s(t.list),s(e.data.exercises_list))}))},get_list:function(){var t=this,i="";i=3==e.getStorageSync("type")?this.$api.school_test_paper_detail({token:this.token,based_id:this.based_id,page:this.page}):this.$api.user_test_paper_detail({token:this.token,based_id:this.based_id,page:this.page}),i.then((function(e){console.log(e),t.is_more=e.is_more,e.code,1==t.page?t.list=e.data.exercises_list:t.list=[].concat(s(t.list),s(e.data.exercises_list))}))},open:function(t,i){var s=this;t&&(this.know_point=t.know_point,this.subject_id=t.subject_id,this.exercises_id=t.exercises_id),void 0!=i&&(this.know_point=this.list[i].know_point,this.subject_id=this.list[i].subject_id,this.exercises_id=this.list[i].exercises_id);var o={token:this.token,know_point:this.know_point,type:this.type,subject_id:this.subject_id,exercises_id:this.exercises_id,page:this.page_change,size:this.size_change};if(4==e.getStorageSync("type"))var n=this.$api.same_type(o);else n=this.$api.teacher_same_type(o);n.then((function(t){console.log(t),200==t.code?(s.same_type=t.data.exercises_list,s.$refs.popup.open()):e.showToast({title:t.msg,icon:"none"})}))},join_error:function(t,i){var s=this;if(console.log("join_error_new",t,i,e.getStorageSync("type")),this.list[t].status?this.list[t].status=!1:this.list[t].status=!0,this.update=!1,this.update=!0,4==e.getStorageSync("type"))var o=this.$api.join_error({token:this.token,exercises_id:i});else o=this.$api.teacher_join_error({token:this.token,exercises_id:i,source:this.source});o.then((function(o){console.log(o),200==o.code&&(s.list[t].is_error?s.list[t].is_error=0:s.list[t].is_error=1,4==e.getStorageSync("type")&&"加入成功"==o.msg&&s.open(i,t))}))},join_error2:function(t,i){var s=this;if(this.same_type[t].status?this.same_type[t].status=!1:this.same_type[t].status=!0,this.update=!1,this.update=!0,4==e.getStorageSync("type"))var o=this.$api.join_error({token:this.token,exercises_id:i,is_type:1});else o=this.$api.teacher_join_error({token:this.token,exercises_id:i,is_type:1,source:5});o.then((function(i){console.log(i),200==i.code?s.same_type[t].is_error?s.same_type[t].is_error=0:s.same_type[t].is_error=1:e.showToast({title:i.msg,icon:"none"})}))},hiddenmodal:function(){this.$refs.popup.close()}}};t.default=h}).call(this,i("543d")["default"])},"2e5d":function(e,t,i){"use strict";var s=i("ee7b"),o=i.n(s);o.a},"3d39":function(e,t,i){"use strict";i.r(t);var s=i("2e25"),o=i.n(s);for(var n in s)"default"!==n&&function(e){i.d(t,e,(function(){return s[e]}))}(n);t["default"]=o.a},5552:function(e,t,i){"use strict";(function(e){i("f6c3"),i("921b");s(i("66fd"));var t=s(i("6fe6"));function s(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("543d")["createPage"])},"6fe6":function(e,t,i){"use strict";i.r(t);var s=i("041a"),o=i("3d39");for(var n in o)"default"!==n&&function(e){i.d(t,e,(function(){return o[e]}))}(n);i("2e5d");var r,a=i("f0c5"),c=Object(a["a"])(o["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],r);t["default"]=c.exports},ee7b:function(e,t,i){}},[["5552","common/runtime","common/vendor"]]]);