(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{2967:function(e,n,t){"use strict";t.r(n);var o=t("787e"),i=t.n(o);for(var r in o)"default"!==r&&function(e){t.d(n,e,(function(){return o[e]}))}(r);n["default"]=i.a},"4da5":function(e,n,t){"use strict";t.r(n);var o=t("b5ec"),i=t("2967");for(var r in i)"default"!==r&&function(e){t.d(n,e,(function(){return i[e]}))}(r);t("6cfe");var a,s=t("f0c5"),u=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],a);n["default"]=u.exports},"569b":function(e,n,t){},"6cfe":function(e,n,t){"use strict";var o=t("569b"),i=t.n(o);i.a},"787e":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=t("2f62");function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var s=function(){t.e("components/uni-popup/uni-popup").then(function(){return resolve(t("768a"))}.bind(null,t)).catch(t.oe)},u={components:{uniPopup:s},data:function(){return{number:"",password:"",loginmode:4,type:4,user_id:"",userInfo:{},sessionkey:"",openid:"",code:""}},onLoad:function(){var n=this;e.login({success:function(e){n.code=e.code}})},methods:r(r({},(0,o.mapMutations)(["login","set_type"])),{},{bindgetuserinfo:function(n,t){var o=this;e.setStorage({key:"type",data:t}),console.log("bindgetuserinfo",n),this.userInfo=n.detail.userInfo,e.setStorageSync("info",n.detail.userInfo),3==t?(console.log(this.userInfo),this.$api.teacher_login({code:this.code}).then((function(n){o.sessionkey=n.data.session_key,o.openid=n.data.openid,console.log("res.data.data ",n.data),200==n.code?(o.login(n.data),e.setStorage({key:"userInfo",data:n.data}),e.setStorage({key:"type",data:3}),e.reLaunch({url:"/pages/index/index"})):(e.setStorage({key:"openid",data:n.data.openid}),o.$refs.popup.open())}))):(console.log("学生登录"),this.$api.student_login({code:this.code,openId:this.userInfo.openId,nickName:this.userInfo.nickName,gender:this.userInfo.gender,city:this.userInfo.city,province:this.userInfo.province,country:this.userInfo.country,avatarUrl:this.userInfo.avatarUrl,unionId:this.userInfo.unionId,watermark:this.userInfo.watermark}).then((function(n){o.session_key=n.data.session_key,console.log("res",n),200==n.code?(o.login(n.data),e.setStorage({key:"is_vip",data:n.data.is_vip}),e.setStorage({key:"type",data:4}),n.data.is_bind?e.reLaunch({url:"/pages/index/index"}):e.navigateTo({url:"/pages/login/bindinfo"})):e.showToast({title:n.msg,icon:"none"})}))),console.log(n)},getphone:function(n){var t=this;console.log(n);var o={code:this.code,iv:n.detail.iv,encryptedData:n.detail.encryptedData,sessionkey:this.sessionkey,openid:this.openid,user_name:this.userInfo.nickName,avatar:this.userInfo.avatarUrl,gender:this.userInfo.gender};this.$api.get_mobile(o).then((function(n){200==n.code?(t.login(n.data),e.reLaunch({url:"/pages/index/index"})):300==n.code?(e.setStorageSync("mobile",n.data.mobile),e.reLaunch({url:"/pages/login/bindinfo"})):e.showToast({title:n.msg,icon:"none"}),console.log(n)}))}})};n.default=u}).call(this,t("543d")["default"])},b5ec:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return r})),t.d(n,"a",(function(){return o}));var o={uniPopup:function(){return t.e("components/uni-popup/uni-popup").then(t.bind(null,"768a"))}},i=function(){var e=this,n=e.$createElement;e._self._c},r=[]},f6d5:function(e,n,t){"use strict";(function(e){t("2274");o(t("66fd"));var n=o(t("4da5"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])}},[["f6d5","common/runtime","common/vendor"]]]);