(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/person/vip"],{"46b2":function(t,n,e){"use strict";var i;e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return i}));var o=function(){var t=this,n=t.$createElement;t._self._c},a=[]},"63e9":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=getApp(),i={data:function(){return{userInfo:{},info:{},price:0,is_discount:1,is_vip:0,tpmid:"",platform:""}},onLoad:function(){this.token=t.getStorageSync("userInfo").token,this.userInfo=t.getStorageSync("userInfo"),this.price=e.globalData.settings.vip_money,this.tpmid=e.globalData.settings.tmpid,console.log("this.tpmid",this.tpmid),this.platform=e.globalData.systemInfo.platform,"ios"==this.platform?t.setNavigationBarTitle({title:"会员特权"}):t.setNavigationBarTitle({title:"开通会员"})},onShow:function(){this.get_info()},methods:{get_info:function(){var t=this;this.$api.vip_info({token:this.token}).then((function(n){console.log(n),t.info=n.data,n.data.vip_money==t.price&&(t.is_discount=0)}))},pay:function(){var n=this;t.requestSubscribeMessage({tmplIds:this.tpmid.vip_notice,complete:function(t){n.login_pay()},success:function(t){},fail:function(t){}})},login_pay:function(){this.$api.app_pay({token:this.token,platform:e.globalData.systemInfo.platform}).then((function(n){if(200!=n.code)t.showModal({title:"温馨提示",content:n.msg,showCancel:!1});else{var e=n.data.wx_pay;t.requestPayment({provider:"wxpay",timeStamp:e.timeStamp,nonceStr:e.nonceStr,package:e.package,signType:"MD5",paySign:e.paySign,success:function(n){console.log(n),t.setStorage({key:"is_vip",data:1})},fail:function(t){console.log(t)}})}}))}}};n.default=i}).call(this,e("543d")["default"])},c887:function(t,n,e){"use strict";var i=e("cb17"),o=e.n(i);o.a},cb17:function(t,n,e){},df8c:function(t,n,e){"use strict";e.r(n);var i=e("46b2"),o=e("f18e");for(var a in o)"default"!==a&&function(t){e.d(n,t,(function(){return o[t]}))}(a);e("c887");var s,c=e("f0c5"),f=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);n["default"]=f.exports},e2f9:function(t,n,e){"use strict";(function(t){e("022d"),e("921b");i(e("66fd"));var n=i(e("df8c"));function i(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},f18e:function(t,n,e){"use strict";e.r(n);var i=e("63e9"),o=e.n(i);for(var a in i)"default"!==a&&function(t){e.d(n,t,(function(){return i[t]}))}(a);n["default"]=o.a}},[["e2f9","common/runtime","common/vendor"]]]);