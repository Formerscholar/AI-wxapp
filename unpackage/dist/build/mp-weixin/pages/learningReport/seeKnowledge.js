(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/learningReport/seeKnowledge"],{"1dbf":function(t,e,i){"use strict";(function(t){function n(t){return a(t)||r(t)||o(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){if(t){if("string"===typeof t)return c(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(t,e):void 0}}function r(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function a(t){if(Array.isArray(t))return c(t)}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=function(){i.e("components/uni-popup/uni-popup").then(function(){return resolve(i("f02b"))}.bind(null,i)).catch(i.oe)},l={components:{uniPopup:u},data:function(){return{token:"",based_id:"",list:[],is_more:1,page:1,update:!0,same_type:[],type:4,subject:"",title:"",subject_name:"",status:"",page_change:1,size_change:5,know_point:"",subject_id:"",exercises_id:"",is:"",count:""}},onReachBottom:function(){this.is_more&&1==this.st?(this.page++,this.get_errorbook_exercises()):this.is_more&&1!=this.st&&"photo"!=this.status&&(this.page++,this.get_list())},onshow:function(){this.page_change=1},onLoad:function(e){console.log("options",e),this.type=t.getStorageSync("type"),this.title=e.title,this.count=e.count,this.subject_name=e.subject_name,this.start_time=e.start_time,this.end_time=e.end_time,this.konw_id=e.id,this.based_id=e.subject_id,t.getStorageSync("token")&&(this.token=t.getStorageSync("token")),this.get_list()},methods:{changeStyle:function(t){return t=t.replace(new RegExp("<p","gi"),'<p style="color: #000;position:relative"'),t=t.replace(new RegExp("<img","gi"),'<img style="max-width:95%;vertical-align: middle;width:auto;"'),t},changeTitle:function(e){t.setNavigationBarTitle({title:e})},changeData:function(){this.page_change++,this.open()},jiexi:function(e,i){t.navigateTo({url:"/pages/knowledgeBase/watchExplane?id="+e+"&source="+i})},get_errorbook_exercises:function(){var e=this;if(3==t.getStorageSync("type"))var i=this.$api.get_teacher_errorbook_exercises({token:this.token,page:this.page,errorbook_id:this.based_id});else i=this.$api.get_errorbook_exercises({token:this.token,page:this.page,errorbook_id:this.based_id});i.then((function(t){e.is_more=t.is_more,console.log(t),1==e.page?e.list=t.data.exercises_list:e.list=[].concat(n(e.list),n(t.data.exercises_list))}))},get_list:function(){var t=this;this.$api.my_study_analysis_exercise({token:this.token,subject_id:this.based_id,start_time:this.start_time,end_time:this.end_time,know_id:this.konw_id,page:this.page}).then((function(e){1==t.page?t.list=e.data:t.list=[].concat(n(t.list),n(e.data))}))},open:function(e,i){var n=this;e&&(this.exercises_id=e.id),void 0!=i&&(this.exercises_id=this.list[i].id);var s={token:this.token,know_point:this.konw_id,type:this.type,subject_id:this.based_id,exercises_id:this.exercises_id,page:this.page_change,size:this.size_change};if(4==t.getStorageSync("type"))var o=this.$api.same_type(s);else o=this.$api.teacher_same_type(s);o.then((function(e){console.log(e),200==e.code?(n.same_type=e.data.exercises_list,n.$refs.popup.open()):t.showToast({title:e.msg,icon:"none"})}))},join_error:function(e,i){var n=this;if(console.log("join_error_new",e,i,t.getStorageSync("type")),this.list[e].status?this.list[e].status=!1:this.list[e].status=!0,this.update=!1,this.update=!0,4==t.getStorageSync("type"))var s=this.$api.join_error({token:this.token,exercises_id:i,source:6});else s=this.$api.teacher_join_error({token:this.token,exercises_id:i});s.then((function(s){console.log(s),200==s.code&&(n.list[e].is_error?n.list[e].is_error=0:n.list[e].is_error=1,4==t.getStorageSync("type")&&"加入成功"==s.msg&&n.open(i,e))}))},join_error2:function(e,i){var n=this;if(this.same_type[e].status?this.same_type[e].status=!1:this.same_type[e].status=!0,this.update=!1,this.update=!0,4==t.getStorageSync("type"))var s=this.$api.join_error({token:this.token,exercises_id:i,is_type:1,source:5});else s=this.$api.teacher_join_error({token:this.token,exercises_id:i,is_type:1});s.then((function(i){console.log(i),200==i.code?n.same_type[e].is_error?n.same_type[e].is_error=0:n.same_type[e].is_error=1:t.showToast({title:i.msg,icon:"none"})}))},hiddenmodal:function(){this.$refs.popup.close()}}};e.default=l}).call(this,i("543d")["default"])},3912:function(t,e,i){"use strict";i.r(e);var n=i("1dbf"),s=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=s.a},"4ba4":function(t,e,i){"use strict";(function(t){i("f6c3"),i("921b");n(i("66fd"));var e=n(i("f651"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])},7122:function(t,e,i){"use strict";var n=i("c749"),s=i.n(n);s.a},c749:function(t,e,i){},daaa:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uniPopup:function(){return i.e("components/uni-popup/uni-popup").then(i.bind(null,"f02b"))}},s=function(){var t=this,e=t.$createElement,i=(t._self._c,t.__map(t.list,(function(e,i){var n=t.__get_orig(e),s=0!=t.list.length?t.changeStyle(e.content_all):null;return{$orig:n,m0:s}}))),n=t.__map(t.same_type,(function(e,i){var n=t.__get_orig(e),s=0!=t.same_type.length?t.changeStyle(e.content):null;return{$orig:n,m1:s}}));t.$mp.data=Object.assign({},{$root:{l0:i,l1:n}})},o=[]},f651:function(t,e,i){"use strict";i.r(e);var n=i("daaa"),s=i("3912");for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);i("7122");var r,a=i("f0c5"),c=Object(a["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=c.exports}},[["4ba4","common/runtime","common/vendor"]]]);